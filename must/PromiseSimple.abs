module PromiseSimple;

{

 Fut<Int> p;

 p = pro_new;

 Maybe<Int> before = p.pro_try;

 println(toString(before == Nothing));

 p.pro_give(3);

 Maybe<Int> after = p.pro_try;

 println(toString(not(after == Nothing)));

 Fut<Int> p_ = p;

 println(toString(p_==p));

 await p?;

 Int x = p_.get;

 println(toString(x==3));
}